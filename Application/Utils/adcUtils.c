//////////////////////////////////////////////////////////////////////////////////////////////////
//!
//!
//////////////////////////////////////////////////////////////////////////////////////////////////

#include "./types.h"

//////////////////////////////////////////////////////////////////////////////////////////////////
//!
//!
//////////////////////////////////////////////////////////////////////////////////////////////////
BOOL AdcUtilsRawToMilliVolts( FLOAT sgRawAdc, FLOAT sgMaxRawVal, FLOAT sgMaxMilliVolts, FLOAT *psgMillivotsResult )
{
	BOOL fSuccess = FALSE;
	
	if( psgMillivotsResult != NULL )
	{
		if( sgRawAdc < sgMaxRawVal )
		{
			(*psgMillivotsResult) = 0;

			// #### VALIDATING DATA ####
			sgRawAdc = ( sgRawAdc > sgMaxRawVal )  ? sgMaxRawVal : sgRawAdc;

			// #### PERFORMING OPERATION ####
			(*psgMillivotsResult) = ( sgRawAdc * (sgMaxMilliVolts+1) ) / (sgMaxRawVal+1);

			fSuccess = TRUE;
		}
	}
	
	return fSuccess;
}

/////////////////////////////////////////// END OF SOURCE //////////////////////////////////////////

